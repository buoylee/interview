## MMM(Master-Master replication manager for Mysql)(不维护, 快速过)

Perl语言实现的脚本程序, 对mysq|集群进行**监控和故障迁移**
通过**VIP（虚拟IP）**, 即 **主备模式**



<img src="Screenshot 2024-11-22 at 03.55.47.png" alt="Screenshot 2024-11-22 at 03.55.47" style="zoom: 33%;" />



## 缺点：
- 故障简单粗暴，容易丢失事务，建议采用半同步复制方式，减少失败的概率
- 目前MMM社区已经缺少维护，不支持基于GTID的复制



## MHA(Master High Availability Manager and Tools for MySQL)(不错)

主从, 
故障时，提升其中拥有新数据的slave为新的master

MHA是需要单独部署的，分Manager, Node节点. 
Manager一般单独部署一台机器。
Node一般部署在每台MySQL机器上。Node节点通过解析各个MySQL的日志进行一些操作。

<img src="Screenshot 2024-11-22 at 04.03.14.png" alt="Screenshot 2024-11-22 at 04.03.14" style="zoom:33%;" />

## 缺点：
- MHA需要自行开发VIP转移脚本。
- MHA只监控Master的状态，未监控Slave的状态



## MGR(MySQL Group Replication)(mysql官方, 没MHAtaobao变种多)

**Paxos变种实现**, 选举, 其他follow
可多主, 但官方推荐单主,





