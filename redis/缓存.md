## 缓存:

### 雪崩:

大量缓存同时失效,

**对策:** 

- 设置随机过期时间 (强依赖, 强一致的, 这个方式不合适.)
- 热点数据, 均匀分布在不同实例 或 设置不过期
- 读写锁, 抢不到就快速失败或同步等待. 让前边的线程更新key值.

### 穿透

大量访问不存在(/合法)的数据

**对策:** 

- 鉴权和校验
- 布隆过滤器（Bloom Filter）

### 击穿

并发集中对一个热点Key进行访问，当这个Key在失效的瞬间，持续的大并发直接落到了数据库上，就在这个Key的点上击穿了缓存。

**对策:**

- 热点设置不过期
- 加锁, 使 缓存失效时, 只有抢到锁的线程才能到db取数据

## 参考

[Redis击穿、穿透、雪崩产生原因以及解决思路](https://objcoding.com/2021/11/28/redis/) 雪崩大致解决思路

