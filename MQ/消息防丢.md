## RocketMQ 中的防丢失措施

### 生产端

RocketMQ 有*3种**发送消息方式**:
**同步**发送：阻塞当前线程, 等待 broker 响应 发送结果。
**异步**发送：构建一个向 broker 发送消息的任务，把该任务提交给线程池，等执行完该任务时，回调用户自定义的回调函数，执行处理结果。
**Oneway**发送: 只负责发送请求，**不等待应答**.

所以, **使用 SYNC 的发送消息**, 等待 broker 处理结果, 直到成功.

### 消费端

如果在网络传输中丢失，之后会持续的推送给消费者，只需要控制在业务逻辑处理完成之后, 再去消费确认就行了。

## 参考

[RabbitMQ，RocketMQ，Kafka 事务性，消息丢失，消息顺序性和消息重复发送的处理策略 ](https://www.cnblogs.com/ricklz/p/15747565.html)



